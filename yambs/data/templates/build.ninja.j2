include_dir = {{ninja_out}}
src_dir = {{src_root}}
generated_dir = $src_dir/generated

# Flags common to all builds, regardless of toolchain or hardware target.
common_cflags = -I${src_dir}{% for flag in common_cflags %} {{flag}}{% endfor %}


include $include_dir/all.ninja

rule compile_commands
  command = ninja -t compdb > compile_commands.json
build compdb: compile_commands

build all: phony all_boards compdb

default {{default_target}}
